<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>R: Display set intersections</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" type="text/css" href="../../R.css">
</head><body>

<table width="100%" summary="page for intersectDiagram {plotrix}"><tr><td>intersectDiagram {plotrix}</td><td align="right">R Documentation</td></tr></table>
<h2>Display set intersections</h2>


<h3>Description</h3>

<p>
Display set intersections as rows of rectangles.
</p>


<h3>Usage</h3>

<pre>
 intersectDiagram(x,pct=FALSE,show.nulls=FALSE,xnames=NULL,namesep="-",
  mar=c(0,0,3,0),main="Intersection Diagram",col=NULL,minspacing=0.1)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>x</code></td>
<td>
A list containing as many numeric vectors as there are sets. The
first vector contains the counts or percentages of the elements that are
only in one set, the next vector contains the counts or percentages of 
elements that are in two sets and so on. A matrix of set membership
indicators can be passed - see Details.</td></tr>
<tr valign="top"><td><code>pct</code></td>
<td>
Whether to display counts (FALSE) or percentages (TRUE) of the
number of entities.</td></tr>
<tr valign="top"><td><code>show.nulls</code></td>
<td>
Whether to display the number of original objects that were
not members of any set.</td></tr>
<tr valign="top"><td><code>xnames</code></td>
<td>
Optional user supplied names for the set categories (see
Details).</td></tr>
<tr valign="top"><td><code>namesep</code></td>
<td>
The separator to use between category names.</td></tr>
<tr valign="top"><td><code>mar</code></td>
<td>
The margins for the diagram. The margins that were in effect when
the function is called are restored.</td></tr>
<tr valign="top"><td><code>main</code></td>
<td>
The title for the diagram.</td></tr>
<tr valign="top"><td><code>col</code></td>
<td>
Colors for the sets (see Details).</td></tr>
<tr valign="top"><td><code>minspacing</code></td>
<td>
The minimum spacing between the rectangles as a proportion.</td></tr>
</table>

<h3>Details</h3>

<p>
<span class="samp">intersectDiagram</span> displays rows of optionally colored rectangles.
The topmost row represents the elements that only belong to one set, the
next row down represents elements belonging to two sets, and so on to the
bottom row of one rectangle representing the elements that belong to all
the sets. More than three intersecting sets generally produce a complex and
difficult to interpret Venn diagram, and this provides an alternative way to
display the intersections between larger numbers of sets. 
</p>
<p>
Each set is assigned a color if <span class="samp">col</span> is not NA. <span class="samp">rainbow</span> is
called if <span class="samp">col</span> is NULL, otherwise the colors passed are used. For each
intersection, the colors representing the sets intersecting are included in
the rectangle.
</p>
<p>
The strings displayed on each rectangle are taken from the argument
<span class="samp">xnames</span> unless that is NULL, then the <span class="samp">names</span> of the first element
of the intersectList object passed as <span class="samp">x</span> or returned from the call to
<span class="samp">makeIntersectList</span> and if this is also NULL, capital letters are assigned
to each category in <span class="samp">x</span>.
</p>
<p>
If there were objects in the original data set that were not members of any
set, any percentages calculated will reflect this. By setting <span class="samp">show.nulls</span>
to TRUE, the counts or percentages of such objects will be displayed below the
intersections over an empty rectangle scaled to the count or percentage.
</p>
<p>
If a matrix of set membership indicators is passed as <span class="samp">x</span>, it will be
passed to <span class="samp"><a href="makeIntersectList.html">makeIntersectList</a></span> for conversion.
</p>


<h3>Value</h3>

<p>
nil</p>

<h3>Author(s)</h3>

<p>
Jim Lemon
</p>


<h3>See Also</h3>

<p>
<span class="samp"><a href="makeIntersectList.html">makeIntersectList</a></span>, <span class="samp"><a href="getIntersectList.html">getIntersectList</a></span>
</p>


<h3>Examples</h3>

<pre>
 # create a matrix where each row represents an element and
 # a 1 (or TRUE) in each column indicates that the element is a member
 # of that set.
 druguse&lt;-matrix(c(sample(c(0,1),200,TRUE),
  sample(c(0,1),200,TRUE),
  sample(c(0,1),200,TRUE),
  sample(c(0,1),200,TRUE)),ncol=4)
 colnames(druguse)&lt;-c("Alc","Tob","THC","Amp")
 druglist&lt;-makeIntersectList(druguse)
 # first display it as counts
 intersectDiagram(druglist)
 # then as percent with non.members, passing the initial matrix
 intersectDiagram(druguse,pct=TRUE,show.nulls=TRUE)
</pre>



<hr><div align="center">[Package <em>plotrix</em> version 2.7 <a href="00Index.html">Index</a>]</div>

</body></html>
